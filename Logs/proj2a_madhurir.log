NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

74       !                                                             /*opens a log file to write to*/
75         
76         *********************************************************************
77         *  Assignment:    Final Project
78         *
79         *  Description:   Part 2: Analysis for defenders
80         *
81         *  Name:          Madhuri Raman
82         *
83         *  Date:          April 30th, 2024
84         *-------------------------------------------------------------------
85         *  Job name:      proj2a_madhurir.sas
86         *
87         *  Purpose:       Identify most common type of goal scored by each team in the tournament.
88         *
89         *  Language:      SAS, VERSION 9.4
90         *
91         *  Input:         UCL datasets:
92         				  goals			
93         *
94         *  Output:        RTF file
95         *
96         ********************************************************************;
97         
98         OPTIONS NODATE MPRINT MERGENOBY=WARN VARINITCHK=WARN NOFULLSTIMER;
99         ODS _ALL_ CLOSE;
100        
101        
102        LIBNAME ucl "/home/u63529063/bios669/FinalProject/data/sasdatasets" ;
NOTE: Libref UCL was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /home/u63529063/bios669/FinalProject/data/sasdatasets
103        
104        DATA gs;
105        	LENGTH club $30;
106        	SET ucl.goals;
107        	DROP serial;
108        RUN;

NOTE: There were 183 observations read from the data set UCL.GOALS.
NOTE: The data set WORK.GS has 183 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
2                                                          The SAS System

      

109        
110        
111        PROC SQL;
112        	CREATE TABLE most_common_goal_types AS
113        		SELECT
114        			club AS Club,
115        			SUM(right_foot) AS RightFoot LABEL="Right Foot",
116        			SUM(left_foot) AS LeftFoot LABEL="Left Foot",
117        			SUM(headers) AS Headers LABEL="Headers",
118        			SUM(others) AS Others LABEL="Others",
119        			SUM(inside_area) AS InsideArea LABEL="Inside Area",
120        			SUM(outside_areas) AS OutsideArea LABEL="Outside Area",
121        			SUM(penalties) AS Penalties LABEL="Penalties"
122        		FROM gs
123        		GROUP BY club;
NOTE: Table WORK.MOST_COMMON_GOAL_TYPES created, with 32 rows and 8 columns.

124        QUIT;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

125        
126        * Then create a new column called "Most Common Goal Type" by taking the name of the column with max value (other than
126      ! total goals column);
127        DATA for_report;
128        	SET most_common_goal_types;
129        	ARRAY goal_types(*) RightFoot LeftFoot Headers Others;
130            max_value_t = MAX(OF goal_types(*));
131            max_index_t = WHICHN(max_value_t, OF goal_types(*));
132            SELECT(max_index_t);
133                WHEN(1) max_goal_type = 'Right Foot';
134                WHEN(2) max_goal_type = 'Left Foot';
135                WHEN(3) max_goal_type = 'Headers';
136                WHEN(4) max_goal_type = 'Other';
137            END;
138        
139            ARRAY goal_areas(*) InsideArea OutsideArea Penalties;
140            max_value_a = MAX(OF goal_areas(*));
141            max_index_a = WHICHN(max_value_a, OF goal_areas(*));
142            SELECT(max_index_a);
143                WHEN(1) max_goal_area = 'Inside Area';
144                WHEN(2) max_goal_area = 'Outside Area';
145                WHEN(3) max_goal_area = 'Penalties';
146            END;
147            DROP max_value_a max_value_t max_index_a max_index_t;
148        RUN;

NOTE: There were 32 observations read from the data set WORK.MOST_COMMON_GOAL_TYPES.
NOTE: The data set WORK.FOR_REPORT has 32 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3                                                          The SAS System

149        
150        *TITLE "Most Common Types of Goals Scored by Each Team";
151        *PROC PRINT DATA=most_common_goal_types LABEL NOOBS;
152        *RUN;
153        
154        *PROC PRINT DATA=for_report LABEL NOOBS;
155        *RUN;
156        
157        
158        /*RTF output, since there are some "weird" characters in player and club names*/
159        OPTIONS MISSING=' ';
160        ODS RTF FILE="&outdir/Outputs/&job._&onyen..RTF" STYLE=JOURNAL BODYTITLE;
NOTE: Writing RTF Body file: /home/u63529063/bios669/FinalProject/Outputs/proj2a_madhurir.RTF
161        
162        TITLE "2021/2022 UEFA Champions League:";
163        TITLE2 "Most Common Types of Goals Scored by Each Team";
164        FOOTNOTE1 "Table 2.";
165        FOOTNOTE2 " ";
166        FOOTNOTE3 "Job &job._&onyen run on &sysdate at &systime";
167        PROC REPORT DATA=for_report;
168        	COLUMN (club) ('Type' RightFoot LeftFoot Headers Others max_goal_type) ('Area' InsideArea OutsideArea Penalties
168      ! max_goal_area);
169        	DEFINE club / DISPLAY "Club"
170        					     STYLE(COLUMN)=[fontsize=10pt fontweight=bold fontstyle=italic just=left CELLWIDTH=2.5CM]
171        					     STYLE(HEADER)=[fontsize=10pt fontweight=bold just=center vjust=b just=center CELLWIDTH=2.5CM];
172        	DEFINE RightFoot / DISPLAY "Right Foot"
173        					     STYLE(COLUMN)=[fontsize=8pt just=center vjust=m CELLWIDTH=1CM]
174        					     STYLE(HEADER)=[fontsize=8pt just=center vjust=b CELLWIDTH=1.5CM];
175        	DEFINE LeftFoot / DISPLAY "Left Foot"
176        					     STYLE(COLUMN)=[fontsize=8pt just=center vjust=m CELLWIDTH=1CM]
177        					     STYLE(HEADER)=[fontsize=8pt just=center vjust=b CELLWIDTH=1.5CM];
178        	DEFINE Headers / DISPLAY "Headers"
179        					     STYLE(COLUMN)=[fontsize=8pt just=center vjust=m CELLWIDTH=1CM]
180        					     STYLE(HEADER)=[fontsize=8pt just=center vjust=b CELLWIDTH=1CM];
181        	DEFINE Others / DISPLAY "Other"
182        					     STYLE(COLUMN)=[fontsize=8pt just=center vjust=m CELLWIDTH=1CM]
183        					     STYLE(HEADER)=[fontsize=8pt just=center vjust=b CELLWIDTH=1CM];
184        	DEFINE max_goal_type / DISPLAY "Most Common Type"
185        					     STYLE(COLUMN)=[fontsize=8pt fontweight=bold just=center vjust=m CELLWIDTH=2.5CM]
186        					     STYLE(HEADER)=[fontsize=8pt fontweight=bold just=center vjust=b CELLWIDTH=2.5CM];
187        	DEFINE InsideArea / DISPLAY "Inside Area"
188        					     STYLE(COLUMN)=[fontsize=8pt just=center vjust=m CELLWIDTH=1CM]
189        					     STYLE(HEADER)=[fontsize=8pt just=center vjust=b CELLWIDTH=1.5CM];
190        	DEFINE OutsideArea / DISPLAY "Outside Area"
191        					     STYLE(COLUMN)=[fontsize=8pt just=center vjust=m CELLWIDTH=1CM]
192        					     STYLE(HEADER)=[fontsize=8pt just=center vjust=b CELLWIDTH=1.5CM];
193        	DEFINE Penalties / DISPLAY "Penalties"
194        					     STYLE(COLUMN)=[fontsize=8pt just=center vjust=m CELLWIDTH=2CM]
195        					     STYLE(HEADER)=[fontsize=8pt just=center vjust=b CELLWIDTH=1CM];
196        	DEFINE max_goal_area / DISPLAY "Most Common Area"
197        					     STYLE(COLUMN)=[fontsize=8pt fontweight=bold just=center vjust=m CELLWIDTH=2.5CM]
198        					     STYLE(HEADER)=[fontsize=8pt fontweight=bold just=center vjust=b CELLWIDTH=2.5CM];
199        	COMPUTE club;
200        		CALL DEFINE(_col_,"STYLE","STYLE=[BACKGROUND=cxD5F5E3]");
201        	ENDCOMP;
202        	COMPUTE max_goal_type;
203        		CALL DEFINE(_col_,"STYLE","STYLE=[BACKGROUND=cxEEF3F0]");
204        	ENDCOMP;
4                                                          The SAS System

205        	COMPUTE max_goal_area;
206        		CALL DEFINE(_col_,"STYLE","STYLE=[BACKGROUND=cxEEF3F0]");
207        	ENDCOMP;
208        RUN;

NOTE: There were 32 observations read from the data set WORK.FOR_REPORT.
NOTE: PROCEDURE REPORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

209        
210        	
211        ODS RTF CLOSE;
212        
213        proc printto; run;

